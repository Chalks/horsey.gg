import{_ as f}from"./LoadingSpinner.b4e48e5e.js";import{s as h}from"./seo.5da8f177.js";import{r as n,o as _,b as w,e,N as p,O as d,u as l,Q as c,c as v,h as b,F as g,X as N,Y as k,A as x,T as U,U as V,V as D}from"./entry.bc4c838d.js";import"./iconify.91d247e2.js";import"./_plugin-vue_export-helper.c27b6911.js";const T=e("h1",null,"Register",-1),B=e("p",null," Your horsey.gg account will enable you to track stats, and if you want we'll notify you when new game modes are available. ",-1),S=e("label",{for:"email",class:"cursor-pointer"},"Email",-1),E=e("label",{for:"displayName",class:"cursor-pointer"},"Display Name",-1),R=e("label",{for:"password",class:"cursor-pointer"},"Password",-1),A=e("div",{class:"flex items-center"},[e("input",{id:"subscribe",type:"checkbox",class:"w-auto mr-4",checked:""}),e("label",{for:"subscribe",class:"cursor-pointer"}," Tell me when there are new horseys to play with ")],-1),F={class:"relative"},Y=["disabled"],j={class:"text-white absolute top-1/2 left-4 -translate-y-1/2"},X={__name:"register",setup(C){h({pageTitle:"register - horsey.gg"});const o=n(""),r=n(""),i=n(""),a=n(!1),y=async m=>{if(m.preventDefault(),a.value===!0)return;a.value=!0;const s=await N({email:r.value,password:i.value});if(s.token)await k({publicData:{displayName:o.value}}),x().setUser(U.user),V("/");else{const{$toast:u}=D();u.error(s.message)}a.value=!1};return(m,s)=>{const u=f;return _(),w(g,null,[T,e("form",{onSubmit:y},[B,S,p(e("input",{id:"email","onUpdate:modelValue":s[0]||(s[0]=t=>c(r)?r.value=t:null),type:"email",name:"email",placeholder:"Email"},null,512),[[d,l(r)]]),E,p(e("input",{id:"displayName","onUpdate:modelValue":s[1]||(s[1]=t=>c(o)?o.value=t:null),type:"displayName",name:"displayName",placeholder:"Display Name"},null,512),[[d,l(o)]]),R,p(e("input",{id:"password","onUpdate:modelValue":s[2]||(s[2]=t=>c(i)?i.value=t:null),type:"password",name:"password",placeholder:"********"},null,512),[[d,l(i)]]),A,e("div",F,[e("input",{type:"submit",value:"Register",disabled:l(a)},null,8,Y),e("div",j,[l(a)?(_(),v(u,{key:0})):b("",!0)])])],32)],64)}}};export{X as default};
