import{_ as f}from"./LoadingSpinner.de3a2b3a.js";import{r as i,e as w,f as e,p as u,v as d,u as l,q as p,c as v,j as h,F as b,A as g,B as N,x as k,y as x,o as m}from"./entry.5ada603b.js";const B=e("h1",null,"Register",-1),U=e("p",null," Your horsey.gg account will enable you to track stats, and if you want we'll notify you when new game modes are available. ",-1),V=e("label",{for:"email",class:"cursor-pointer"},"Email",-1),D=e("label",{for:"displayName",class:"cursor-pointer"},"Display Name",-1),E=e("label",{for:"password",class:"cursor-pointer"},"Password",-1),S=e("div",{class:"flex items-center"},[e("input",{id:"subscribe",type:"checkbox",class:"w-auto mr-4",checked:""}),e("label",{for:"subscribe",class:"cursor-pointer"}," Tell me when there are new horseys to play with ")],-1),R={class:"relative"},j=["disabled"],F={class:"text-white absolute top-1/2 left-4 -translate-y-1/2"},C={__name:"register",setup(T){const o=i(""),r=i(""),n=i(""),a=i(!1),_=async c=>{if(c.preventDefault(),a.value===!0)return;a.value=!0;const s=await g({email:r.value,password:n.value});s.token?(await N({publicData:{displayName:o.value}}),k().setUser(x.user)):console.error(s),a.value=!1};return(c,s)=>{const y=f;return m(),w(b,null,[B,e("form",{onSubmit:_},[U,V,u(e("input",{id:"email","onUpdate:modelValue":s[0]||(s[0]=t=>p(r)?r.value=t:null),type:"email",name:"email",placeholder:"Email"},null,512),[[d,l(r)]]),D,u(e("input",{id:"displayName","onUpdate:modelValue":s[1]||(s[1]=t=>p(o)?o.value=t:null),type:"displayName",name:"displayName",placeholder:"Email"},null,512),[[d,l(o)]]),E,u(e("input",{id:"password","onUpdate:modelValue":s[2]||(s[2]=t=>p(n)?n.value=t:null),type:"password",name:"password",placeholder:"********"},null,512),[[d,l(n)]]),S,e("div",R,[e("input",{type:"submit",value:"Register",disabled:l(a)},null,8,j),e("div",F,[l(a)?(m(),v(y,{key:0})):h("",!0)])])],32)],64)}}};export{C as default};
