import{e as b,a2 as F,a3 as C,r as L,l as H,a4 as j,x as $,a as l,G as D,S as w,D as N,j as B,H as I,k as K}from"./entry.6246dd54.js";const T=new WeakMap;function E(a){if(T.has(a))return T.get(a);const i={...a};return i.render?i.render=(u,...r)=>{if(u.mounted$){const n=a.render(u,...r);return n.children===null||typeof n.children=="string"?b(n.type,n.props,n.children,n.patchFlag,n.dynamicProps,n.shapeFlag):F(n)}else return F("div",C(u.$attrs??u._.attrs,{key:"placeholder-key"}))}:i.template&&(i.template=`
      <template v-if="mounted$">${a.template}</template>
      <template v-else><div></div></template>
    `),i.setup=(u,r)=>{var p;const n=L(!1);return H(()=>{n.value=!0}),Promise.resolve(((p=a.setup)==null?void 0:p.call(a,u,r))||{}).then(c=>typeof c!="function"?{...c,mounted$:n}:(...h)=>{if(n.value){const s=c(...h);return s.children===null||typeof s.children=="string"?b(s.type,s.props,s.children,s.patchFlag,s.dynamicProps,s.shapeFlag):F(s)}else return F("div",C(r.attrs,{key:"placeholder-key"}))})},T.set(a,i),i}const R=j("moveMachineStore",()=>{const a=$();function i(e){var t;(t=a==null?void 0:a.saveFile)==null||t.setMoveMachineDifficulty(e)}const u=l(()=>{var e,t;return((t=(e=a.saveFile)==null?void 0:e.selectedDifficulties)==null?void 0:t.moveMachine)??D}),r=l(()=>{var e;return Object.values(((e=a.saveFile)==null?void 0:e.moveMachineStats)??[])}),n=l(()=>r.value.filter(({difficulty:e})=>e===D)),p=l(()=>r.value.filter(({difficulty:e})=>e===w)),c=l(()=>r.value.filter(({difficulty:e})=>e===N)),h=l(()=>r.value.filter(({difficulty:e})=>e===B)),s=l(()=>r.value.filter(({difficulty:e})=>e===I)),g=l(()=>r.value.filter(({difficulty:e})=>e===K)),o=l(()=>{var t;return Object.values(((t=a.saveFile)==null?void 0:t.moveMachineStats)??[]).filter(({difficulty:P})=>P===u.value)}),v=l(()=>o.value.length),m=l(()=>o.value.sort(({ms:e},{ms:t})=>e-t)),f=l(()=>o.value.reduce((e,{moves:t})=>e+t,0)),S=l(()=>o.value.reduce((e,{invalidMoves:t})=>e+t,0)),M=l(()=>o.value.reduce((e,{optimalMoves:t})=>e+t,0)),k=l(()=>o.value.reduce((e,{ms:t})=>e+t,0)),y=l(()=>{const e=Math.floor(m.value.length*.1),t=m.value.slice(-1*e).reduce((d,{ms:A,moves:O})=>(d.time+=A,d.moves+=O,d),{time:0,moves:0}),P=m.value.slice(0,e).reduce((d,{ms:A,moves:O})=>(d.time+=A,d.moves+=O,d),{time:0,moves:0});return{allGames:v.value,allMoves:f.value,allInvalidMoves:S.value,allOptimalMoves:M.value,allTime:k.value,allBestMoveRatio:M.value/f.value,allAverageTimePerMove:k.value/f.value,allAverageTimePerGame:k.value/v.value,allAverageSlowestTimePerMove:t.time/t.moves,allAverageFastestTimePerMove:P.time/P.moves}});return{currentDifficulty:u,dangGames:c,darnGames:h,frickGames:g,games:o,goshGames:n,heckGames:s,rawGames:r,setDifficulty:i,shucksGames:p,stats:y}}),G=100,V=j("achievementStore",()=>{const a=R(),i=L(!1),u=l(()=>({game1:a.games.length>0})),r=l(()=>{const{goshGames:c,shucksGames:h,dangGames:s,darnGames:g,heckGames:o,frickGames:v}=a,m=c.reduce((e,{ms:t})=>e+t,0)/c.length,f=h.reduce((e,{ms:t})=>e+t,0)/h.length,S=s.reduce((e,{ms:t})=>e+t,0)/s.length,M=g.reduce((e,{ms:t})=>e+t,0)/g.length,k=o.reduce((e,{ms:t})=>e+t,0)/o.length,y=v.reduce((e,{ms:t})=>e+t,0)/v.length;return{gosh10:c.length>=10,shucks10:h.length>=10,dang10:s.length>=10,darn10:g.length>=10,heck10:o.length>=10,frick10:v.length>=10,gosh100:c.length>=G,shucks100:h.length>=G,dang100:s.length>=G,darn100:g.length>=G,heck100:o.length>=G,frick100:v.length>=G,goshGreased:c.length?m<=1e4:!1,shucksGreased:h.length?f<=1e4:!1,dangGreased:s.length?S<=1e4:!1,darnGreased:g.length?M<=1e4:!1,heckGreased:o.length?k<=1e4:!1,frickGreased:v.length?y<=1e4:!1,goshLightning:c.length?m<=7e3:!1,shucksLightning:h.length?f<=7e3:!1,dangLightning:s.length?S<=7e3:!1,darnLightning:g.length?M<=7e3:!1,heckLightning:o.length?k<=7e3:!1,frickLightning:v.length?y<=7e3:!1}});return{achievementCount:l(()=>{const c=Object.values(u.value).filter(s=>s).length,h=Object.values(r.value).filter(s=>s).length;return c+h}),globalAchievements:u,mmAchievements:r,unlocked:i,toggleGlobalLock:()=>{i.value=!i.value}}});export{R as a,E as c,V as u};
