import{_ as f}from"./LoadingSpinner.b4e48e5e.js";import{s as v}from"./seo.5da8f177.js";import{r as i,o as p,b as g,e,N as d,O as m,u as l,Q as c,c as h,h as w,F as b,R as y,A as x,T as k,U,V}from"./entry.bc4c838d.js";import"./iconify.91d247e2.js";import"./_plugin-vue_export-helper.c27b6911.js";const B=e("h1",null,"Login",-1),N=e("label",{for:"email",class:"cursor-pointer"},"Email",-1),S=e("label",{for:"password",class:"cursor-pointer"},"Password",-1),T={class:"relative"},E=["disabled"],L={class:"text-white absolute top-1/2 left-4 -translate-y-1/2"},M={__name:"login",setup(A){v({pageTitle:"login - horsey.gg"});const t=i(""),o=i(""),a=i(!1),_=async u=>{if(u.preventDefault(),a.value===!0)return;a.value=!0;const s=await y({email:t.value,password:o.value});if(s.token)x().setUser(k.user),U("/");else{const{$toast:n}=V();n.error(s.message)}a.value=!1};return(u,s)=>{const n=f;return p(),g(b,null,[B,e("form",{onSubmit:_},[N,d(e("input",{id:"email","onUpdate:modelValue":s[0]||(s[0]=r=>c(t)?t.value=r:null),type:"email",name:"email",placeholder:"Email"},null,512),[[m,l(t)]]),S,d(e("input",{id:"password","onUpdate:modelValue":s[1]||(s[1]=r=>c(o)?o.value=r:null),type:"password",name:"password",placeholder:"********"},null,512),[[m,l(o)]]),e("div",T,[e("input",{type:"submit",value:"Login",disabled:l(a)},null,8,E),e("div",L,[l(a)?(p(),h(n,{key:0})):w("",!0)])])],32)],64)}}};export{M as default};
