import{_ as f}from"./LoadingSpinner.e3c422ce.js";import{r as i,o as d,f as v,h as e,s as p,v as c,u as l,x as m,c as w,j as h,F as g,y as b,l as x,z as y,A as k,C as B}from"./entry.7b0678f3.js";const S=e("h1",null,"Login",-1),U=e("label",{for:"email",class:"cursor-pointer"},"Email",-1),V=e("label",{for:"password",class:"cursor-pointer"},"Password",-1),E={class:"relative"},L=["disabled"],N={class:"text-white absolute top-1/2 left-4 -translate-y-1/2"},D={__name:"login",setup(j){const t=i(""),o=i(""),a=i(!1),_=async u=>{if(u.preventDefault(),a.value===!0)return;a.value=!0;const s=await b({email:t.value,password:o.value});if(s.token)x().setUser(y.user),k("/");else{const{$toast:n}=B();n.error(s.message)}a.value=!1};return(u,s)=>{const n=f;return d(),v(g,null,[S,e("form",{onSubmit:_},[U,p(e("input",{id:"email","onUpdate:modelValue":s[0]||(s[0]=r=>m(t)?t.value=r:null),type:"email",name:"email",placeholder:"Email"},null,512),[[c,l(t)]]),V,p(e("input",{id:"password","onUpdate:modelValue":s[1]||(s[1]=r=>m(o)?o.value=r:null),type:"password",name:"password",placeholder:"********"},null,512),[[c,l(o)]]),e("div",E,[e("input",{type:"submit",value:"Login",disabled:l(a)},null,8,L),e("div",N,[l(a)?(d(),w(n,{key:0})):h("",!0)])])],32)],64)}}};export{D as default};
